{% extends 'base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/product_list.css' %}">
{% endblock %}



{% block content %}
<!-- search bar here.. -->
<form method="get" action="" class="search-form" style="margin-bottom: 2em;">
    <input type="text" name="q" placeholder="Search products..." value="{{ request.GET.q }}">
    <button type="submit">Search</button>
</form>

<div class="all-products">
    {% for p in products %}
        <div class="product-container">
            <img src="{{ p.img.url }}" alt="{{ product.name }}" class="product-img">
            <div class="product-details">
                <div class="product-name">
                    <p class="product-name">{{ p.name }}</p>
                </div>
                <div class="product-rating">
                    {% for i in "12345" %}
                        {% if p.rating >= forloop.counter %}
                            <svg class="star" viewBox="0 0 24 24" id="star_filled" data-name="star filled" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect id="Rectangle_4" data-name="Rectangle 4" width="24" height="24" fill="none"></rect> <path id="Star" d="M10,15,4.122,18.09l1.123-6.545L.489,6.91l6.572-.955L10,0l2.939,5.955,6.572.955-4.755,4.635,1.123,6.545Z" transform="translate(2 3)" stroke="#000000" stroke-miterlimit="10" stroke-width="1.5"></path> </g></svg>
                        {% else %}
                            <svg class="star" viewBox="0 0 24 24" id="star_filled" data-name="star filled" xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect id="Rectangle_4" data-name="Rectangle 4" width="24" height="24" fill="none"></rect> <path id="Star" d="M10,15,4.122,18.09l1.123-6.545L.489,6.91l6.572-.955L10,0l2.939,5.955,6.572.955-4.755,4.635,1.123,6.545Z" transform="translate(2 3)" stroke="#000000" stroke-miterlimit="10" stroke-width="1.5"></path> </g></svg>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="product-price">
                    <p class="product-price">â‚¬{{ p.price }}</p>
                </div>
                <div class="add-to-cart-container">
                    <button class="add-to-cart">Add To Cart</button>
                </div>
                

            </div>
        </div>

    {% endfor %}
</div>

{% endblock %}




{% block js %}
<script src="{% static 'js/product_list.js' %}"></script>
{% endblock %}